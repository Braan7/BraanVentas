{% extends 'base.html' %}{% block content %}<h2 class='mb-3'>Cat√°logo</h2><div class='row g-3'>{% for c in categorias %}<div class='col-6 col-md-3'><a class='btn btn-outline-info w-100' href='{{ url_for('catalogo', cat_id=c.id) }}'>{{ c.nombre }}</a></div>{% endfor %}</div><hr class='my-4'><h3>Destacados</h3><div class='row g-3'>{% for p in destacados %}<div class='col-12 col-md-4'><div class='card bg-secondary-subtle text-dark'><div class='card-body'><h5 class='card-title'>{{ p.nombre }}</h5><p class='card-text small'>{{ p.descripcion }}</p><div class='d-flex justify-content-between align-items-center'><span class='fw-bold'>${{ '%.2f'|format(p.precio) }}</span><form method='post' action='{{ url_for('cart_add', pid=p.id) }}' onsubmit='return addToCart(event,this)'><input type='hidden' name='qty' value='1'><button class='btn btn-sm btn-primary'>Agregar</button></form></div></div></div></div>{% endfor %}</div><script>async function addToCart(e,form){e.preventDefault();const res=await fetch(form.action,{method:'POST',body:new FormData(form)});const data=await res.json();if(data.ok){alert('Agregado al carrito');}}</script>{% endblock %}